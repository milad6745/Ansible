در Ansible، ‌**Facts** مجموعه‌ای از اطلاعات و متاداده‌هایی هستند که از سیستم‌های مدیریت‌شده (مانند سرورها) جمع‌آوری می‌شوند. این اطلاعات شامل وضعیت و ویژگی‌های سیستم، مانند نسخه سیستم‌عامل، آدرس IP، پیکربندی شبکه، حافظه، پردازنده، و سایر جزئیات سخت‌افزاری و نرم‌افزاری می‌شود. Ansible این داده‌ها را به‌صورت خودکار از طریق ماژول `setup` جمع‌آوری می‌کند و می‌توان از آن‌ها در Playbookها برای تصمیم‌گیری و شرط‌گذاری‌های مختلف استفاده کرد.

### نمونه‌ای از Ansible Facts
برخی از متغیرهای Facts که Ansible جمع‌آوری می‌کند شامل موارد زیر هستند:

- `ansible_hostname`: نام میزبان سیستم
- `ansible_os_family`: نوع خانواده سیستم‌عامل (مثل `RedHat`، `Debian`)
- `ansible_default_ipv4`: اطلاعات مربوط به آدرس IPv4 پیش‌فرض
- `ansible_memory_mb`: اطلاعات مربوط به میزان حافظه سیستم (برحسب مگابایت)
- `ansible_processor`: اطلاعات مربوط به پردازنده‌های سیستم

### استفاده از Facts در Playbook
برای مثال، اگر بخواهید بر اساس سیستم‌عامل دستوری خاص را اجرا کنید، می‌توانید از Ansible Facts استفاده کنید:

```yaml
- hosts: all
  tasks:
    - name: نمایش سیستم‌عامل
      debug:
        msg: "سیستم‌عامل این سرور: {{ ansible_os_family }}"
    - name: اجرای دستور مخصوص RedHat
      when: ansible_os_family == "RedHat"
      command: yum update -y
```

در این مثال، ابتدا سیستم‌عامل را از طریق Fact `ansible_os_family` چاپ کرده و سپس اگر سیستم‌عامل RedHat باشد، دستور به‌روزرسانی اجرا می‌شود.

### فعال‌سازی و غیرفعال‌سازی Facts
Ansible به‌صورت پیش‌فرض Facts را از طریق ماژول `setup` جمع‌آوری می‌کند، اما اگر بخواهید این قابلیت را غیرفعال کنید، می‌توانید در فایل Playbook خود از پارامتر `gather_facts` استفاده کنید:

```yaml
- hosts: all
  gather_facts: no
  tasks:
    - name: فقط اجرای یک دستور بدون جمع‌آوری Facts
      command: echo "Ansible Facts غیرفعال است"
```

این قابلیت برای زمانی که نیاز به اطلاعات سیستم نیست و فقط می‌خواهید دستورات ساده‌ای را اجرا کنید، مفید است.
